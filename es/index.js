var P=Object.create;var l=Object.defineProperty,p=Object.defineProperties,D=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,j=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var w=(n,a,e)=>a in n?l(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e,f=(n,a)=>{for(var e in a||(a={}))T.call(a,e)&&w(n,e,a[e]);if(b)for(var e of b(a))q.call(a,e)&&w(n,e,a[e]);return n},m=(n,a)=>p(n,O(a)),_=n=>l(n,"__esModule",{value:!0});var I=(n,a)=>{_(n);for(var e in a)l(n,e,{get:a[e],enumerable:!0})},K=(n,a,e)=>{if(a&&typeof a=="object"||typeof a=="function")for(let c of g(a))!T.call(n,c)&&c!=="default"&&l(n,c,{get:()=>a[c],enumerable:!(e=D(a,c))||e.enumerable});return n},S=n=>K(_(l(n!=null?P(j(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var d=(n,a,e)=>new Promise((c,i)=>{var o=s=>{try{u(e.next(s))}catch(y){i(y)}},t=s=>{try{u(e.throw(s))}catch(y){i(y)}},u=s=>s.done?c(s.value):Promise.resolve(s.value).then(o,t);u((e=e.apply(n,a)).next())});I(exports,{baseApi:()=>C,createZeroApi:()=>k});var x=S(require("querystring-number")),E={},C=(c,i,...o)=>d(void 0,[c,i,...o],function*(n,a,e={}){let t;t=a&&JSON.stringify(a);let u=(e.baseUrl||"")+n,s=u+t;if(e.cacheTime){let r=E[s];if(r&&Date.now()-r.time<e.cacheTime)return r}let y=Object.prototype.toString.call(a)==="[object FormData]";return e.headers||(e.headers={}),e.headers["Content-Type"]||(y?e.headers["Content-Type"]="application/x-www-form-urlencoded":e.headers["Content-Type"]="application/json"),e.method==="GET"&&!e.headers["Cache-Control"]&&(e.headers["Cache-Control"]="public, max-age=604800, immutable"),fetch(u,m(f({body:t},e),{headers:e.headers})).then(r=>d(void 0,null,function*(){return{body:yield r[e.format||"json"](),status:r.status,headers:r.headers}})).then(r=>d(void 0,null,function*(){return e.cacheTime&&(E[s]={data:r,time:Date.now()}),e.reduce&&(r=yield Promise.resolve(e.reduce(r))),e.onSuccess&&(yield Promise.resolve(e.onSuccess(r))),r})).catch(r=>d(void 0,null,function*(){e.onError&&(yield Promise.resolve(e.onError(r)))}))}),v=(n,a,e,c,i,o)=>d(void 0,null,function*(){if(typeof window=="undefined")return;let t="/"+a;return e&&(t+="?"+x.default.stringify(e)),C(t,c,m(f(f({},i),o),{method:n}))}),U={get:!0,post:!0,put:!0,del:!0,options:!0},k=(n={})=>{let a=e=>new Proxy(e,{get(i,o){if(!i[o])if(!U[o])i[o]=a({___parent:i.___parent?i.___parent+"/"+o:o});else{let t=o.toUpperCase();t==="DEL"&&(t="DELETE");let u=i.___parent;i[o]=(s={})=>{let{query:y,body:r,options:h}=s;return!y&&!r&&!h&&(t==="GET"?y=s:r=s),v(t,u,y,r,n,h)}}return i[o]}});return a(n.baseData||{})};
